FILSON PORTLAND DATA PIPELINE - PROJECT TREE STRUCTURE

This document shows the complete folder and file structure for all components 
involved in the data pipeline, organized by their role in the system.

====================================================================================
ğŸ“‚ ROOT PROJECT STRUCTURE
====================================================================================

retail-ops-app/
â”œâ”€â”€ ğŸ“‹ PROJECT CONFIG FILES
â”‚   â”œâ”€â”€ package.json                    # Dependencies & scripts (Papa Parse, Day.js, etc.)
â”‚   â”œâ”€â”€ package-lock.json              # Dependency lockfile
â”‚   â”œâ”€â”€ vite.config.js                 # Build config with path aliases (@, @lib, @data)
â”‚   â”œâ”€â”€ jsconfig.json                  # JavaScript/React configuration
â”‚   â”œâ”€â”€ tailwind.config.js             # CSS framework config
â”‚   â””â”€â”€ postcss.config.js              # CSS processing config
â”‚
â”œâ”€â”€ ğŸ  APPLICATION ENTRY POINTS
â”‚   â”œâ”€â”€ index.html                     # HTML entry point
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.jsx                   # React application bootstrap
â”‚       â”œâ”€â”€ App.jsx                    # Main app with tab navigation â†’ Analytics
â”‚       â””â”€â”€ index.css                  # Global styles
â”‚
â”œâ”€â”€ ğŸ“š SHARED LIBRARIES
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ dataPaths.js               # ğŸ”— Universal JSON loader (browser/Node.js)
â”‚
â”œâ”€â”€ ğŸ—‚ï¸ STATIC DATA SERVING
â”‚   â””â”€â”€ public/
â”‚       â””â”€â”€ data/                      # Static file serving root
â”‚           â”œâ”€â”€ registry/              # Data discovery manifests
â”‚           â”‚   â””â”€â”€ index.json         # ğŸ”— Master data registry
â”‚           â”œâ”€â”€ newstore/              # NewStore data source
â”‚           â”‚   â”œâ”€â”€ orders/            # Order data hierarchy
â”‚           â”‚   â”‚   â”œâ”€â”€ index.json     # ğŸ”— Orders manifest
â”‚           â”‚   â”‚   â”œâ”€â”€ 2023/          # Year-based organization
â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ 2023-01/
â”‚           â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 2023-01_orders_in_store.csv  # ğŸ”— Monthly order data
â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ 2023-02/
â”‚           â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 2023-02_orders_in_store.csv
â”‚           â”‚   â”‚   â”‚   â””â”€â”€ ... (monthly files)
â”‚           â”‚   â”‚   â”œâ”€â”€ 2024/
â”‚           â”‚   â”‚   â”‚   â””â”€â”€ ... (similar monthly structure)
â”‚           â”‚   â”‚   â””â”€â”€ 2025/
â”‚           â”‚   â”‚       â””â”€â”€ ... (similar monthly structure)
â”‚           â”‚   â””â”€â”€ catalog/           # Product catalog data
â”‚           â”‚       â””â”€â”€ storefront-catalog-en-us.csv  # ğŸ”— Product data
â”‚           â”œâ”€â”€ kepler/                # Additional data sources (future)
â”‚           â””â”€â”€ schemas/               # Data validation schemas
â”‚               â””â”€â”€ orders_in_store.schema.v1.json  # ğŸ”— Order data schema
â”‚
â”œâ”€â”€ ğŸ§  CORE PIPELINE INFRASTRUCTURE
â”‚   â””â”€â”€ src/core/
â”‚       â”œâ”€â”€ ğŸŒ HTTP & NETWORKING
â”‚       â”‚   â””â”€â”€ io/
â”‚       â”‚       â””â”€â”€ HttpStaticProvider.js    # ğŸ”— HTTP client for static files
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ›¤ï¸ PATH RESOLUTION
â”‚       â”‚   â””â”€â”€ paths/
â”‚       â”‚       â”œâ”€â”€ ManifestClient.js        # ğŸ”— Data registry client
â”‚       â”‚       â””â”€â”€ PathResolver.js          # ğŸ”— URL template resolution
â”‚       â”‚
â”‚       â”œâ”€â”€ âš™ï¸ CONFIGURATION
â”‚       â”‚   â””â”€â”€ config/
â”‚       â”‚       â””â”€â”€ dataSources.js           # ğŸ”— Data source configurations
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“Š DATA SCHEMAS
â”‚       â”‚   â””â”€â”€ schemas/
â”‚       â”‚       â””â”€â”€ ordersInStore.schema.v1.json  # ğŸ”— Order schema definition
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ”§ DATA UTILITIES
â”‚           â””â”€â”€ utils/
â”‚               â””â”€â”€ ordersNormalizer.js      # ğŸ”— Advanced timezone & data normalization
â”‚
â”œâ”€â”€ ğŸ”¬ ANALYTICS FEATURE MODULE
â”‚   â””â”€â”€ src/features/analytics/
â”‚       â”œâ”€â”€ ğŸ—„ï¸ DATA ACCESS LAYER
â”‚       â”‚   â””â”€â”€ repositories/
â”‚       â”‚       â””â”€â”€ OrdersRepository.js      # ğŸ”— Main data access with CSV parsing
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ¯ BUSINESS LOGIC LAYER  
â”‚       â”‚   â””â”€â”€ services/
â”‚       â”‚       â””â”€â”€ AnalyticsService.js      # ğŸ”— Pipeline orchestration
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ”„ DATA TRANSFORMATION ADAPTERS
â”‚       â”‚   â””â”€â”€ adapters/
â”‚       â”‚       â”œâ”€â”€ time/
â”‚       â”‚       â”‚   â””â”€â”€ timeAdapter.js       # ğŸ”— Date range filtering
â”‚       â”‚       â”œâ”€â”€ productAdapter.js        # ğŸ”— Product filtering
â”‚       â”‚       â””â”€â”€ metricAdapter.js         # ğŸ”— Metric calculations
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“‹ DATA CONTRACTS (DTOs)
â”‚       â”‚   â””â”€â”€ dtos/
â”‚       â”‚       â”œâ”€â”€ QueryDTO.js              # ğŸ”— Query normalization
â”‚       â”‚       â”œâ”€â”€ TableDTO.js              # ğŸ”— Table structure definition
â”‚       â”‚       â””â”€â”€ ChartDTO.js              # ğŸ”— Chart structure definition
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ­ DATA TRANSFORMATION (FEEDERS)
â”‚       â”‚   â””â”€â”€ feeders/
â”‚       â”‚       â”œâ”€â”€ tableFeeder.js           # ğŸ”— Raw data â†’ Table format
â”‚       â”‚       â””â”€â”€ chartFeeder.js           # ğŸ”— Raw data â†’ Chart format
â”‚       â”‚
â”‚       â”œâ”€â”€ âš›ï¸ REACT INTEGRATION
â”‚       â”‚   â””â”€â”€ hooks/
â”‚       â”‚       â””â”€â”€ useAnalyticsQuery.js     # ğŸ”— Main React hook orchestrator
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ¨ UI COMPONENTS
â”‚       â”‚   â””â”€â”€ components/
â”‚       â”‚       â”œâ”€â”€ StatusDisplay.jsx        # ğŸ”— Query status & error display
â”‚       â”‚       â”œâ”€â”€ charts/
â”‚       â”‚       â”‚   â””â”€â”€ Chart.jsx            # ğŸ”— Data visualization component
â”‚       â”‚       â”œâ”€â”€ tables/
â”‚       â”‚       â”‚   â””â”€â”€ Table.jsx            # ğŸ”— Advanced data table with scrolling
â”‚       â”‚       â”œâ”€â”€ panels/
â”‚       â”‚       â”‚   â”œâ”€â”€ Panel.jsx            # ğŸ”— Filter panel shell
â”‚       â”‚       â”‚   â””â”€â”€ tabs/
â”‚       â”‚       â”‚       â”œâ”€â”€ index.js         # Tab registry
â”‚       â”‚       â”‚       â”œâ”€â”€ time/
â”‚       â”‚       â”‚       â”‚   â”œâ”€â”€ Time.jsx     # Time filter UI
â”‚       â”‚       â”‚       â”‚   â””â”€â”€ Calendar.jsx # Date picker
â”‚       â”‚       â”‚       â”œâ”€â”€ product/
â”‚       â”‚       â”‚       â”‚   â””â”€â”€ Product.jsx  # Product filter UI
â”‚       â”‚       â”‚       â”œâ”€â”€ metric/
â”‚       â”‚       â”‚       â”‚   â””â”€â”€ Metric.jsx   # Metric filter UI
â”‚       â”‚       â”‚       â”œâ”€â”€ element/
â”‚       â”‚       â”‚       â”‚   â””â”€â”€ Element.jsx  # Element filter UI
â”‚       â”‚       â”‚       â””â”€â”€ trend/
â”‚       â”‚       â”‚           â””â”€â”€ Trend.jsx    # Trend filter UI
â”‚       â”‚       â””â”€â”€ menus/
â”‚       â”‚           â”œâ”€â”€ Menu.jsx             # ğŸ”— Dropdown menu system
â”‚       â”‚           â””â”€â”€ Menu.css             # Menu styling
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“Š ANALYTICS REGISTRIES
â”‚           â””â”€â”€ registry/
â”‚               â”œâ”€â”€ tableRegistry.js         # Table configuration registry
â”‚               â”œâ”€â”€ kpiRegistry.js          # KPI definitions
â”‚               â””â”€â”€ kpis/
â”‚                   â”œâ”€â”€ index.js            # KPI index
â”‚                   â””â”€â”€ top_performers.js   # ğŸ”— Top performers KPI logic
â”‚
â”œâ”€â”€ ğŸ“± PAGE INTEGRATION
â”‚   â””â”€â”€ src/pages/
â”‚       â”œâ”€â”€ Analytics.jsx                   # ğŸ”— Main analytics page (pipeline consumer)
â”‚       â”œâ”€â”€ Store.jsx                       # Store dashboard page
â”‚       â”œâ”€â”€ Catalog.jsx                     # Product catalog page
â”‚       â”œâ”€â”€ Zones.jsx                       # Zone management page
â”‚       â””â”€â”€ Assistant.jsx                   # AI assistant page
â”‚
â”œâ”€â”€ ğŸ”§ OTHER FEATURE MODULES
â”‚   â””â”€â”€ src/features/
â”‚       â”œâ”€â”€ storeDashboard/                 # Store dashboard components
â”‚       â”‚   â””â”€â”€ components/
â”‚       â”‚       â”œâ”€â”€ OverviewCard.jsx
â”‚       â”‚       â””â”€â”€ VisualStoreTrends.jsx   # ğŸ”— Uses some pipeline concepts
â”‚       â”œâ”€â”€ catalog/                        # Product catalog feature (separate pipeline)
â”‚       â”œâ”€â”€ common/                         # Shared components
â”‚       â””â”€â”€ Inventory/                      # Inventory management
â”‚
â”œâ”€â”€ ğŸ§ª TESTING & VALIDATION
â”‚   â””â”€â”€ scripts/
â”‚       â””â”€â”€ smoke/
â”‚           â”œâ”€â”€ validate_orders_in_store_month.mjs  # ğŸ”— Data validation script
â”‚           â””â”€â”€ print-architecture.mjs      # Architecture documentation script
â”‚
â””â”€â”€ ğŸ“š DOCUMENTATION
    â”œâ”€â”€ project-code-summary.txt           # High-level code summary
    â”œâ”€â”€ data-pipeline-source-code-roadmap.txt  # Complete source code reference  
    â”œâ”€â”€ data-pipeline-project-tree.txt     # This file - structure overview
    â””â”€â”€ docs/                              # Additional documentation
        â””â”€â”€ dev-notes/                     # Development notes
            â”œâ”€â”€ README_MASTER.md
            â”œâ”€â”€ TEMPLATE.md
            â””â”€â”€ 2025-08/                   # Monthly development logs

====================================================================================
ğŸ”— PIPELINE DATA FLOW PATHWAYS
====================================================================================

PRIMARY DATA FLOW PATHWAY:
==========================

1. USER INTERFACE
   src/pages/Analytics.jsx 
   â””â”€â”€ ğŸ”„ Query State Management

2. REACT INTEGRATION  
   src/features/analytics/hooks/useAnalyticsQuery.js
   â””â”€â”€ ğŸ”„ Pipeline Orchestration

3. BUSINESS LOGIC
   src/features/analytics/services/AnalyticsService.js
   â””â”€â”€ ğŸ”„ Service Coordination

4. DATA ACCESS
   src/features/analytics/repositories/OrdersRepository.js
   â””â”€â”€ ğŸ”„ CSV Loading & Parsing

5. CORE INFRASTRUCTURE
   â”œâ”€â”€ src/core/paths/ManifestClient.js         (Data Discovery)
   â”œâ”€â”€ src/core/paths/PathResolver.js           (URL Resolution)  
   â”œâ”€â”€ src/core/io/HttpStaticProvider.js        (HTTP Requests)
   â””â”€â”€ src/core/config/dataSources.js           (Configuration)

6. STATIC DATA FILES
   public/data/newstore/orders/[YYYY]/[YYYY-MM]/[YYYY-MM]_orders_in_store.csv
   â””â”€â”€ ğŸ”„ Raw CSV Data

7. DATA NORMALIZATION
   src/core/utils/ordersNormalizer.js
   â””â”€â”€ ğŸ”„ Timezone & Format Conversion

8. DATA FILTERING
   â”œâ”€â”€ src/features/analytics/adapters/time/timeAdapter.js      (Time Filtering)
   â”œâ”€â”€ src/features/analytics/adapters/productAdapter.js       (Product Filtering)
   â””â”€â”€ src/features/analytics/adapters/metricAdapter.js        (Metric Processing)

9. UI TRANSFORMATION
   â”œâ”€â”€ src/features/analytics/feeders/tableFeeder.js           (Table Format)
   â””â”€â”€ src/features/analytics/feeders/chartFeeder.js           (Chart Format)

10. USER INTERFACE RENDERING
    â”œâ”€â”€ src/features/analytics/components/tables/Table.jsx     (Data Display)
    â”œâ”€â”€ src/features/analytics/components/StatusDisplay.jsx    (Status Info)
    â””â”€â”€ src/features/analytics/components/charts/Chart.jsx     (Visualization)

CONFIGURATION PATHWAY:
=====================

Application Config â†’ Core Config â†’ Runtime Config
â”œâ”€â”€ vite.config.js                    # Path aliases & build setup
â”œâ”€â”€ src/core/config/dataSources.js    # Data source definitions  
â”œâ”€â”€ public/data/registry/index.json   # Data registry manifest
â””â”€â”€ public/data/newstore/orders/index.json  # Orders manifest

SCHEMA VALIDATION PATHWAY:  
=========================

Data Schema â†’ Normalization â†’ Validation
â”œâ”€â”€ src/core/schemas/ordersInStore.schema.v1.json  # JSON Schema definition
â”œâ”€â”€ src/core/utils/ordersNormalizer.js              # Data transformation  
â””â”€â”€ scripts/smoke/validate_orders_in_store_month.mjs # Validation testing

ERROR HANDLING PATHWAY:
======================

Component Errors â†’ Hook Errors â†’ Service Errors â†’ Repository Errors â†’ Core Errors
â”œâ”€â”€ UI Components (try/catch, error boundaries)
â”œâ”€â”€ useAnalyticsQuery (error state management)  
â”œâ”€â”€ AnalyticsService (business logic errors)
â”œâ”€â”€ OrdersRepository (data access errors)
â””â”€â”€ Core Infrastructure (HTTP, parsing, file errors)

====================================================================================
ğŸ—‚ï¸ KEY DIRECTORY EXPLANATIONS
====================================================================================

ğŸ“ /src/core/
   The foundational layer that all other components build upon.
   Contains infrastructure that could be reused across different features.

ğŸ“ /src/features/analytics/  
   Self-contained feature module following domain-driven design.
   All analytics-related code is organized here by responsibility.

ğŸ“ /public/data/
   Static file serving for CSV data and manifests.
   Organized hierarchically for efficient data discovery and loading.

ğŸ“ /lib/
   Shared utilities that work in both browser and Node.js contexts.
   Used by both the main application and development/testing scripts.

ğŸ“ /scripts/
   Development and validation tools that operate outside the main application.
   Includes smoke tests and architecture documentation generators.

====================================================================================
ğŸ” CRITICAL PIPELINE FILES SUMMARY
====================================================================================

ğŸ”— ENTRY POINTS:
â”œâ”€â”€ src/pages/Analytics.jsx                    # User interface entry
â””â”€â”€ src/features/analytics/hooks/useAnalyticsQuery.js  # React hook entry

ğŸ”— ORCHESTRATION:
â”œâ”€â”€ src/features/analytics/services/AnalyticsService.js  # Business logic
â””â”€â”€ src/features/analytics/repositories/OrdersRepository.js  # Data access

ğŸ”— CORE INFRASTRUCTURE:
â”œâ”€â”€ src/core/io/HttpStaticProvider.js          # HTTP requests
â”œâ”€â”€ src/core/paths/ManifestClient.js           # Data discovery
â”œâ”€â”€ src/core/paths/PathResolver.js             # URL resolution
â””â”€â”€ src/core/utils/ordersNormalizer.js         # Data transformation

ğŸ”— DATA CONTRACTS:
â”œâ”€â”€ src/features/analytics/dtos/QueryDTO.js    # Query normalization
â”œâ”€â”€ src/features/analytics/dtos/TableDTO.js    # Table structure  
â””â”€â”€ src/features/analytics/dtos/ChartDTO.js    # Chart structure

ğŸ”— UI TRANSFORMATION:
â”œâ”€â”€ src/features/analytics/feeders/tableFeeder.js  # Table formatting
â””â”€â”€ src/features/analytics/feeders/chartFeeder.js  # Chart formatting

ğŸ”— USER INTERFACE:
â”œâ”€â”€ src/features/analytics/components/tables/Table.jsx      # Data display
â”œâ”€â”€ src/features/analytics/components/StatusDisplay.jsx     # Status info
â””â”€â”€ src/features/analytics/components/charts/Chart.jsx      # Visualization

ğŸ”— CONFIGURATION:
â”œâ”€â”€ src/core/config/dataSources.js             # Data source config
â”œâ”€â”€ public/data/registry/index.json            # Master registry
â””â”€â”€ vite.config.js                            # Build & path aliases

ğŸ”— DATA FILES:
â””â”€â”€ public/data/newstore/orders/[YYYY]/[YYYY-MM]/[YYYY-MM]_orders_in_store.csv

This structure follows a clean architecture pattern with clear separation of concerns,
making it easy to understand, maintain, and extend the data pipeline system.

====================================================================================